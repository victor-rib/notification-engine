<div class="headers" style="display:flex ; justify-content: space-between">
    <h1>User Settings</h1>
    <div class="align-right">
        <div pRipple type="button" icon="pi pi-sign-out" class="pi pi-sign-out" (click)="logOut()"></div>
    </div>
</div>

<div class="controls" style="display:flex; justify-content: space-between;">
    <div class="align-left">
        <div class="default-button" title="notifications" (click)="navigateToRoute('notifications')">
            <span>Notifications</span>
        </div>
    </div>
    <div class="align-right">
        <div *ngIf="isadmin" class="default-button" title="Admin tools" (click)="navigateToRoute('admin-tools')">
            <span>Admin tools</span>
        </div>
    </div>
</div>
<div class="tab">
    <button id="subscription-button" class="tablinks" (click)="openTab($event,'subscription')">Subscriptions</button>
    <button id="alerttouser-button" class="tablinks" (click)="openTab($event, 'usertoalert')">User To Alert</button>
    <div class="pi pi-plus add-button" title="Add Record" (click)="openCreationModal()"></div>
</div>
<div class="table-div">
    <p-table [columns]="headers" [value]="data" [reorderableColumns]="true" responsiveLayout="scroll"
        [scrollable]="true" scrollHeight="300px" scrollDirection="both" dataKey="deviceid" [style]="{width:'97vw'}">
        <ng-template pTemplate="header" let-columns>
            <tr>
                <th style="width:150px" pFrozenColumn> </th>
                <th style="text-align:center;width:200px" pReorderableColumn *ngFor="let col of columns">
                    <label>{{col}}</label>
                </th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-data let-columns="columns" let-ri="rowIndex">
            <tr>
                <td style="text-align:center;width:150px" pFrozenColumn>
                    <div pRipple type="button" icon="pi pi-trash" (click)="onDeleteRow(data, ri)" class="pi pi-trash">
                    </div>
                </td>
                <td style="width:200px;text-align:center;" *ngFor="let col of columns" id="{{ 'cellid-' + col + ri }}">
                    <p-cellEditor>
                        <ng-template pTemplate="input">
                            <input pInputText type="text" [(ngModel)]="data[col]">
                        </ng-template>
                        <ng-template pTemplate="output">
                            {{data[col]}}
                        </ng-template>
                    </p-cellEditor>
                </td>
            </tr>
        </ng-template>
    </p-table>
</div>